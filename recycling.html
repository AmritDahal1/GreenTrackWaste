<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recycling Request | Green Track</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="dashboard-body">

  <div class="dashboard-container">
    <header class="dashboard-main-header">
      <a href="resident.html" class="back-link"><i class="fas fa-arrow-left"></i></a>
      <h3 class="page-title">Request Recycling Pickup</h3>
      <a href="index.html" class="logout-link"><i class="fas fa-sign-out-alt"></i> Logout</a>
    </header>

    <main class="dashboard-main">
      <form action="api/submit_recycling_request.php" method="POST" class="complaint-form">
        
        <div class="complaint-form-section">
            <div class="form-group">
              <label for="image-upload" class="image-upload-box">
                <i class="fas fa-camera"></i>
                <span>Upload Photo (Optional)</span>
              </label>
              <input type="file" id="image-upload" name="recycling_image" accept="image/*" style="display: none;">
              <img id="image-preview" src="#" alt="Image Preview" style="display: none; width: 100%; border-radius: 12px; margin-top: 1rem;"/>
            </div>
        </div>

        <div class="complaint-form-section">
            <div class="form-group">
              <label for="recycling-type">Type of Recycling</label>
              <select id="recycling-type" name="recycling_type" class="form-control-dash" required>
                  <option value="Mixed Recycling">Mixed Recycling</option>
                  <option value="Cardboard">Cardboard Only</option>
                  <option value="Glass">Glass Only</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="address">Pickup Address</label>
              <input type="text" id="address" name="address" class="form-control-dash" value="6 Huggins St, Bonner" required>
            </div>
    
            <div class="form-group">
              <label for="date">Preferred Pickup Date</label>
              <input type="date" id="date" name="pickup_date" class="form-control-dash" required>
            </div>
        </div>

        <button type="submit" class="btn-dash-primary">SUBMIT REQUEST</button>
      </form>
    </main>
  </div>

  <script>
    document.getElementById('date').valueAsDate = new Date();

    const imageUpload = document.getElementById('image-upload');
    const imagePreview = document.getElementById('image-preview');
    imageUpload.onchange = evt => {
        const [file] = imageUpload.files;
        if (file) {
            imagePreview.src = URL.createObjectURL(file);
            imagePreview.style.display = 'block';
        }
    }
  </script>

</body>
</html>
